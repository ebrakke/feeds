import{f as v,a as s,c as x}from"../chunks/CMYthPH1.js";import{o as E}from"../chunks/BTvDARnc.js";import{p as G,s as c,a as _,h as N,f as m,b as W,e as q,d as p,$ as D,g as o,c as b,r as w,t as I}from"../chunks/DRd13Xrb.js";import{s as J}from"../chunks/B-oMrjzJ.js";import{i as h}from"../chunks/B-ckIuUA.js";import{h as K}from"../chunks/DmEoDL_F.js";import{k as L}from"../chunks/BCt0s9Jx.js";import{V as O}from"../chunks/DguFTN09.js";var P=v('<div class="flex justify-center py-12"><svg class="animate-spin h-8 w-8 text-blue-500" fill="none" viewBox="0 0 24 24"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path></svg></div>'),Q=v('<div class="text-center py-12"><p class="text-red-400"> </p></div>'),R=v('<div class="text-center py-12"><p class="text-gray-400">No watch history yet.</p></div>'),S=v(`<div class="mb-4"><h1 class="text-2xl font-bold">Watch History</h1> <p class="text-gray-400 text-sm">Videos you've watched</p></div> <!>`,1);function et(M,k){G(k,!0);let f=c(_([])),g=c(_({})),u=c(!0),n=c(null);E(async()=>{try{const t=await L();p(f,t.videos,!0),p(g,t.progressMap||{},!0)}catch(t){p(n,t instanceof Error?t.message:"Failed to load history",!0)}finally{p(u,!1)}});var y=S();K("1xl2tfr",t=>{q(()=>{D.title="History - Feeds"})});var H=N(m(y),2);{var V=t=>{var i=P();s(t,i)},C=t=>{var i=x(),z=m(i);{var F=a=>{var e=Q(),l=b(e),d=b(l,!0);w(l),w(e),I(()=>J(d,o(n))),s(a,e)},j=a=>{var e=x(),l=m(e);{var d=r=>{var B=R();s(r,B)},A=r=>{O(r,{get videos(){return o(f)},get progressMap(){return o(g)}})};h(l,r=>{o(f).length===0?r(d):r(A,!1)},!0)}s(a,e)};h(z,a=>{o(n)?a(F):a(j,!1)},!0)}s(t,i)};h(H,t=>{o(u)?t(V):t(C,!1)})}s(M,y),W()}export{et as component};
