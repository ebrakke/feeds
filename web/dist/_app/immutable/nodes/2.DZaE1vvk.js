import{f as l,a as r,c as B}from"../chunks/Bn1lgkls.js";import{o as ee}from"../chunks/BYPFo13k.js";import{p as ae,s as v,a as te,f as b,t as F,g as a,b as re,e as se,c as o,d as p,$ as oe,h as y,r as s,n as le}from"../chunks/D_G30FA3.js";import{e as ie,s as A}from"../chunks/CEQHbEfL.js";import{i as _}from"../chunks/KKXNucnH.js";import{g as ne,r as ce,e as pe,s as ve,i as de}from"../chunks/DhoS0KrS.js";import{h as fe}from"../chunks/EanPgme1.js";import{b as ue}from"../chunks/CGtaCjqy.js";import{g as me}from"../chunks/N-c1coiT.js";var he=l('<svg class="animate-spin h-4 w-4" fill="none" viewBox="0 0 24 24"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path></svg> <span>Opening...</span>',1),ge=l("<span>Open</span>"),be=l('<div class="flex justify-center py-12"><svg class="animate-spin h-8 w-8 text-blue-500" fill="none" viewBox="0 0 24 24"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path></svg></div>'),ye=l('<div class="text-center py-12"><p class="text-red-400"> </p></div>'),_e=l('<div class="text-center py-12"><p class="text-gray-400 mb-4">No feeds yet.</p> <a href="/import" class="inline-block bg-blue-600 hover:bg-blue-700 text-white py-3 px-6 rounded">Import Feed</a></div>'),xe=l('<a class="block bg-gray-800 rounded-lg p-4 hover:bg-gray-700"><h3 class="font-semibold"> </h3> <p class="text-sm text-gray-400"> </p></a>'),we=l('<a href="/all" class="block bg-gradient-to-r from-blue-600 to-purple-600 rounded-lg p-4 mb-4 hover:from-blue-500 hover:to-purple-500"><h3 class="font-semibold">Everything</h3> <p class="text-sm text-blue-100">Recent videos from all feeds</p></a> <div class="space-y-2"></div>',1),ke=l('<form class="mb-4"><div class="flex gap-2"><input type="text" placeholder="Paste YouTube URL to watch..." class="flex-1 bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white placeholder-gray-500 focus:outline-none focus:border-blue-500"/> <button type="submit" class="bg-blue-600 hover:bg-blue-700 disabled:opacity-50 text-white px-4 py-2 rounded-lg inline-flex items-center gap-2"><!></button></div></form> <!>',1);function Re(E,I){ae(I,!0);let x=v(te([])),H=v(!0),w=v(null),d=v(""),f=v(!1);ee(async()=>{try{p(x,await ne(),!0)}catch(e){p(w,e instanceof Error?e.message:"Failed to load feeds",!0)}finally{p(H,!1)}});async function O(e){if(e.preventDefault(),!a(d).trim())return;p(f,!0);const t=a(d).match(/(?:v=|youtu\.be\/|shorts\/)([a-zA-Z0-9_-]{11})/);t?me(`/watch/${t[1]}`):(alert("Invalid YouTube URL"),p(f,!1))}function S(e){return new Date(e).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}var L=ke();fe("1uha8ag",e=>{se(()=>{oe.title="Home - Feeds"})});var u=b(L),M=o(u),k=o(M);ce(k);var C=y(k,2),T=o(C);{var Y=e=>{var t=he();le(2),r(e,t)},j=e=>{var t=ge();r(e,t)};_(T,e=>{a(f)?e(Y):e(j,!1)})}s(C),s(M),s(u);var N=y(u,2);{var P=e=>{var t=be();r(e,t)},Z=e=>{var t=B(),q=b(t);{var G=i=>{var n=ye(),m=o(n),z=o(m,!0);s(m),s(n),F(()=>A(z,a(w))),r(i,n)},J=i=>{var n=B(),m=b(n);{var z=c=>{var h=_e();r(c,h)},K=c=>{var h=we(),R=y(b(h),2);pe(R,21,()=>a(x),de,(Q,U)=>{var g=xe(),D=o(g),W=o(D,!0);s(D);var V=y(D,2),X=o(V);s(V),s(g),F($=>{ve(g,"href",`/feeds/${a(U).id??""}`),A(W,a(U).name),A(X,`Updated ${$??""}`)},[()=>S(a(U).updated_at)]),r(Q,g)}),s(R),r(c,h)};_(m,c=>{a(x).length===0?c(z):c(K,!1)},!0)}r(i,n)};_(q,i=>{a(w)?i(G):i(J,!1)},!0)}r(e,t)};_(N,e=>{a(H)?e(P):e(Z,!1)})}F(()=>C.disabled=a(f)),ie("submit",u,O),ue(k,()=>a(d),e=>p(d,e)),r(E,L),re()}export{Re as component};
