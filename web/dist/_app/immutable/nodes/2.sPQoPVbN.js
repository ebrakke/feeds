import{f as l,a as r,c as N}from"../chunks/CMYthPH1.js";import{o as le}from"../chunks/BTvDARnc.js";import{p as ie,s as f,a as ne,f as w,t as k,g as a,b as ce,e as de,c as i,d as v,$ as pe,h as z,r as o,n as ve,u as O}from"../chunks/DRd13Xrb.js";import{e as fe,s as H}from"../chunks/B-oMrjzJ.js";import{i as m}from"../chunks/B-ckIuUA.js";import{g as me,r as ue,e as be,s as S,i as he}from"../chunks/BCt0s9Jx.js";import{h as ge}from"../chunks/DmEoDL_F.js";import{b as _e}from"../chunks/Eb2Cq2IH.js";import{g as xe}from"../chunks/BgT2UKuG.js";var ye=l('<svg class="animate-spin h-4 w-4" fill="none" viewBox="0 0 24 24"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path></svg> <span>Opening...</span>',1),we=l("<span>Open</span>"),ke=l('<div class="flex justify-center py-12"><svg class="animate-spin h-8 w-8 text-blue-500" fill="none" viewBox="0 0 24 24"><circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle><path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path></svg></div>'),ze=l('<div class="text-center py-12"><p class="text-red-400"> </p></div>'),Ce=l('<div class="text-center py-12"><p class="text-gray-400 mb-4">No feeds yet.</p> <a href="/import" class="inline-block bg-blue-600 hover:bg-blue-700 text-white py-3 px-6 rounded">Import Feed</a></div>'),Fe=l('<a class="block bg-amber-900/40 border border-amber-700/50 rounded-lg p-4 mb-4 hover:bg-amber-900/60"><h3 class="font-semibold text-amber-200">Inbox</h3> <p class="text-sm text-amber-200/70">New channels to organize</p></a>'),Ue=l('<a class="block bg-gray-800 rounded-lg p-4 hover:bg-gray-700"><h3 class="font-semibold"> </h3> <p class="text-sm text-gray-400"> </p></a>'),De=l('<!> <a href="/all" class="block bg-gradient-to-r from-blue-600 to-purple-600 rounded-lg p-4 mb-4 hover:from-blue-500 hover:to-purple-500"><h3 class="font-semibold">Everything</h3> <p class="text-sm text-blue-100">Recent videos from all feeds</p></a> <div class="space-y-2"></div>',1),Ae=l('<form class="mb-4"><div class="flex gap-2"><input type="text" placeholder="Paste YouTube URL to watch..." class="flex-1 bg-gray-800 border border-gray-700 rounded-lg px-4 py-2 text-white placeholder-gray-500 focus:outline-none focus:border-blue-500"/> <button type="submit" class="bg-blue-600 hover:bg-blue-700 disabled:opacity-50 text-white px-4 py-2 rounded-lg inline-flex items-center gap-2"><!></button></div></form> <!>',1);function Oe(T,Y){ie(Y,!0);let u=f(ne([])),I=f(!0),C=f(null),b=f(""),h=f(!1);le(async()=>{try{v(u,await me(),!0)}catch(e){v(C,e instanceof Error?e.message:"Failed to load feeds",!0)}finally{v(I,!1)}});async function j(e){if(e.preventDefault(),!a(b).trim())return;v(h,!0);const t=a(b).match(/(?:v=|youtu\.be\/|shorts\/)([a-zA-Z0-9_-]{11})/);t?xe(`/watch/${t[1]}`):(alert("Invalid YouTube URL"),v(h,!1))}function P(e){return new Date(e).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})}var L=Ae();ge("1uha8ag",e=>{de(()=>{pe.title="Home - Feeds"})});var g=w(L),M=i(g),F=i(M);ue(F);var U=z(F,2),Z=i(U);{var q=e=>{var t=ye();ve(2),r(e,t)},G=e=>{var t=we();r(e,t)};m(Z,e=>{a(h)?e(q):e(G,!1)})}o(U),o(M),o(g);var J=z(g,2);{var K=e=>{var t=ke();r(e,t)},Q=e=>{var t=N(),W=w(t);{var X=n=>{var c=ze(),_=i(c),D=i(_,!0);o(_),o(c),k(()=>H(D,a(C))),r(n,c)},$=n=>{var c=N(),_=w(c);{var D=d=>{var x=Ce();r(d,x)},ee=d=>{const x=O(()=>a(u).find(s=>s.is_system)),ae=O(()=>a(u).filter(s=>!s.is_system));var R=De(),V=w(R);{var te=s=>{var p=Fe();k(()=>S(p,"href",`/feeds/${a(x).id??""}`)),r(s,p)};m(V,s=>{a(x)&&s(te)})}var B=z(V,4);be(B,21,()=>a(ae),he,(s,p)=>{var y=Ue(),A=i(y),re=i(A,!0);o(A);var E=z(A,2),se=i(E);o(E),o(y),k(oe=>{S(y,"href",`/feeds/${a(p).id??""}`),H(re,a(p).name),H(se,`Updated ${oe??""}`)},[()=>P(a(p).updated_at)]),r(s,y)}),o(B),r(d,R)};m(_,d=>{a(u).length===0?d(D):d(ee,!1)},!0)}r(n,c)};m(W,n=>{a(C)?n(X):n($,!1)},!0)}r(e,t)};m(J,e=>{a(I)?e(K):e(Q,!1)})}k(()=>U.disabled=a(h)),fe("submit",g,j),_e(F,()=>a(b),e=>v(b,e)),r(T,L),ce()}export{Oe as component};
