import{f as y,a as g,c as E}from"./Bn1lgkls.js";import{G as C,p as G,c as f,h as x,g as b,u as V,r as c,t as w,b as j,f as F}from"./D_G30FA3.js";import{i as S}from"./KKXNucnH.js";import{s as k,e as H}from"./DhoS0KrS.js";import{p as z}from"./BpQOtx9W.js";import{s as M}from"./CEQHbEfL.js";function I(e,t,l){var o=e==null?"":""+e;return o===""?null:o}function J(e,t){return e==null?null:String(e)}function K(e,t,l,o,h,i){var m=e.__className;if(C||m!==l||m===void 0){var a=I(l);(!C||a!==e.getAttribute("class"))&&(a==null?e.removeAttribute("class"):e.className=a),e.__className=l}return i}function L(e,t,l,o){var h=e.__style;if(C||h!==t){var i=J(t);(!C||i!==e.getAttribute("style"))&&(i==null?e.removeAttribute("style"):e.style.cssText=i),e.__style=t}return o}var O=y('<span class="absolute bottom-1 right-1 bg-black/80 text-white text-xs px-1 rounded"> </span>'),Q=y('<div class="absolute bottom-0 left-0 right-0 h-1 bg-gray-700"><div class="h-full bg-red-600"></div></div>'),U=y('<p class="text-xs text-gray-400"> </p>'),X=y('<a><div class="relative"><img class="w-full aspect-video object-cover" loading="lazy"/> <!> <!></div> <div class="p-3"><h3 class="font-medium text-sm line-clamp-2 mb-1"> </h3> <!> <p class="text-xs text-gray-500"> </p></div></a>');function Z(e,t){G(t,!0);let l=z(t,"showChannel",3,!0);function o(r){if(!r)return"";const s=Math.floor(r/3600),v=Math.floor(r%3600/60),_=r%60;return s>0?`${s}:${v.toString().padStart(2,"0")}:${_.toString().padStart(2,"0")}`:`${v}:${_.toString().padStart(2,"0")}`}function h(r){const s=new Date(r),_=new Date().getTime()-s.getTime(),d=Math.floor(_/(1e3*60*60*24));return d===0?"Today":d===1?"Yesterday":d<7?`${d} days ago`:d<30?`${Math.floor(d/7)} weeks ago`:d<365?`${Math.floor(d/30)} months ago`:`${Math.floor(d/365)} years ago`}let i=V(()=>t.progress?Math.round(t.progress.progress_seconds/t.progress.duration_seconds*100):0),m=V(()=>t.progress?.completed??!1);var a=X(),n=f(a),u=f(n),p=x(u,2);{var P=r=>{var s=O(),v=f(s,!0);c(s),w(_=>M(v,_),[()=>o(t.video.duration)]),g(r,s)};S(p,r=>{t.video.duration&&r(P)})}var R=x(p,2);{var W=r=>{var s=Q(),v=f(s);c(s),w(()=>L(v,`width: ${b(i)??""}%`)),g(r,s)};S(R,r=>{t.progress&&b(i)>0&&b(i)<100&&r(W)})}c(n);var A=x(n,2),T=f(A),Y=f(T,!0);c(T);var D=x(T,2);{var q=r=>{var s=U(),v=f(s,!0);c(s),w(()=>M(v,t.video.channel_name)),g(r,s)};S(D,r=>{l()&&r(q)})}var N=x(D,2),B=f(N,!0);c(N),c(A),c(a),w(r=>{k(a,"href",`/watch/${t.video.id??""}`),K(a,1,`block bg-gray-800 rounded-lg overflow-hidden hover:bg-gray-700 transition-colors ${b(m)?"opacity-60":""}`),k(u,"src",t.video.thumbnail),k(u,"alt",t.video.title),M(Y,t.video.title),M(B,r)},[()=>h(t.video.published)]),g(e,a),j()}var $=y('<div class="text-center py-12"><p class="text-gray-400">No videos yet.</p></div>'),tt=y('<div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4"></div>');function lt(e,t){G(t,!0);let l=z(t,"showChannel",3,!0);var o=E(),h=F(o);{var i=a=>{var n=$();g(a,n)},m=a=>{var n=tt();H(n,21,()=>t.videos,u=>u.id,(u,p)=>{Z(u,{get video(){return b(p)},get progress(){return t.progressMap[b(p).id]},get showChannel(){return l()}})}),c(n),g(a,n)};S(h,a=>{t.videos.length===0?a(i):a(m,!1)})}g(e,o),j()}export{lt as V};
