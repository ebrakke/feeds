import{X as L,G as S,a0 as ee,Z as R,R as re,Q as ne,g as J,m as ae,U as se,V as fe,W as U,Y as D,a3 as x,a1 as te,ad as oe,ae as V,H as ie,a7 as $,a9 as ue,af as P,aa as le,ag as q,O as ce,ah as de,ai as ve,aj as he,ak as T,a4 as G,a6 as X,al as F,a2 as pe,am as _e,a5 as ge,J as K,an as Q,ao as me,ap as Ee,aq as Te,ar as ye,as as Se,at as Ae}from"./DRd13Xrb.js";function xe(e,r){return r}function we(e,r,n){for(var o=[],l=r.length,u,i=r.length,_=0;_<l;_++){let m=r[_];X(m,()=>{if(u){if(u.pending.delete(m),u.done.add(m),u.pending.size===0){var c=e.outrogroups;H(P(u.done)),c.delete(u),c.size===0&&(e.outrogroups=null)}}else i-=1},!1)}if(i===0){var f=o.length===0&&n!==null;if(f){var d=n,s=d.parentNode;_e(s),s.append(d),e.items.clear()}H(r,!f)}else u={pending:new Set(r),done:new Set},(e.outrogroups??=new Set).add(u)}function H(e,r=!0){for(var n=0;n<e.length;n++)ge(e[n],r)}var z;function Le(e,r,n,o,l,u=null){var i=e,_=new Map,f=(r&Q)!==0;if(f){var d=e;i=S?L(ee(d)):d.appendChild(R())}S&&re();var s=null,m=ae(()=>{var t=n();return le(t)?t:t==null?[]:P(t)}),c,h=!0;function A(){a.fallback=s,Ne(a,c,i,r,o),s!==null&&(c.length===0?(s.f&T)===0?G(s):(s.f^=T,b(s,null,i)):X(s,()=>{s=null}))}var O=ne(()=>{c=J(m);var t=c.length;let C=!1;if(S){var I=se(i)===fe;I!==(t===0)&&(i=U(),L(i),D(!1),C=!0)}for(var E=new Set,w=ie,k=ue(),g=0;g<t;g+=1){S&&x.nodeType===te&&x.data===oe&&(i=x,C=!0,D(!1));var N=c[g],M=o(N,g),v=h?null:_.get(M);v?(v.v&&V(v.v,N),v.i&&V(v.i,g),k&&w.skipped_effects.delete(v.e)):(v=Oe(_,h?i:z??=R(),N,M,g,l,r,n),h||(v.e.f|=T),_.set(M,v)),E.add(M)}if(t===0&&u&&!s&&(h?s=$(()=>u(i)):(s=$(()=>u(z??=R())),s.f|=T)),S&&t>0&&L(U()),!h)if(k){for(const[Z,j]of _)E.has(Z)||w.skipped_effects.add(j.e);w.oncommit(A),w.ondiscard(()=>{})}else A();C&&D(!0),J(m)}),a={effect:O,items:_,outrogroups:null,fallback:s};h=!1,S&&(i=x)}function Ne(e,r,n,o,l){var u=(o&me)!==0,i=r.length,_=e.items,f=e.effect.first,d,s=null,m,c=[],h=[],A,O,a,t;if(u)for(t=0;t<i;t+=1)A=r[t],O=l(A,t),a=_.get(O).e,(a.f&T)===0&&(a.nodes?.a?.measure(),(m??=new Set).add(a));for(t=0;t<i;t+=1){if(A=r[t],O=l(A,t),a=_.get(O).e,e.outrogroups!==null)for(const v of e.outrogroups)v.pending.delete(a),v.done.delete(a);if((a.f&T)!==0)if(a.f^=T,a===f)b(a,null,n);else{var C=s?s.next:f;a===e.effect.last&&(e.effect.last=a.prev),a.prev&&(a.prev.next=a.next),a.next&&(a.next.prev=a.prev),y(e,s,a),y(e,a,C),b(a,C,n),s=a,c=[],h=[],f=s.next;continue}if((a.f&F)!==0&&(G(a),u&&(a.nodes?.a?.unfix(),(m??=new Set).delete(a))),a!==f){if(d!==void 0&&d.has(a)){if(c.length<h.length){var I=h[0],E;s=I.prev;var w=c[0],k=c[c.length-1];for(E=0;E<c.length;E+=1)b(c[E],I,n);for(E=0;E<h.length;E+=1)d.delete(h[E]);y(e,w.prev,k.next),y(e,s,w),y(e,k,I),f=I,s=k,t-=1,c=[],h=[]}else d.delete(a),b(a,f,n),y(e,a.prev,a.next),y(e,a,s===null?e.effect.first:s.next),y(e,s,a),s=a;continue}for(c=[],h=[];f!==null&&f!==a;)(d??=new Set).add(f),h.push(f),f=f.next;if(f===null)continue}(a.f&T)===0&&c.push(a),s=a,f=a.next}if(e.outrogroups!==null){for(const v of e.outrogroups)v.pending.size===0&&(H(P(v.done)),e.outrogroups?.delete(v));e.outrogroups.size===0&&(e.outrogroups=null)}if(f!==null||d!==void 0){var g=[];if(d!==void 0)for(a of d)(a.f&F)===0&&g.push(a);for(;f!==null;)(f.f&F)===0&&f!==e.fallback&&g.push(f),f=f.next;var N=g.length;if(N>0){var M=(o&Q)!==0&&i===0?n:null;if(u){for(t=0;t<N;t+=1)g[t].nodes?.a?.measure();for(t=0;t<N;t+=1)g[t].nodes?.a?.fix()}we(e,g,M)}}u&&K(()=>{if(m!==void 0)for(a of m)a.nodes?.a?.apply()})}function Oe(e,r,n,o,l,u,i,_){var f=(i&ve)!==0?(i&he)===0?ce(n,!1,!1):q(n):null,d=(i&de)!==0?q(l):null;return{v:f,i:d,e:$(()=>(u(r,f??n,d??l,_),()=>{e.delete(o)}))}}function b(e,r,n){if(e.nodes)for(var o=e.nodes.start,l=e.nodes.end,u=r&&(r.f&T)===0?r.nodes.start:n;o!==null;){var i=pe(o);if(u.before(o),o===l)return;o=i}}function y(e,r,n){r===null?e.effect.first=n:r.next=n,n===null?e.effect.last=r:n.prev=r}const Ce=Symbol("is custom element"),Ie=Symbol("is html");function Re(e){if(S){var r=!1,n=()=>{if(!r){if(r=!0,e.hasAttribute("value")){var o=e.value;Y(e,"value",null),e.value=o}if(e.hasAttribute("checked")){var l=e.checked;Y(e,"checked",null),e.checked=l}}};e.__on_r=n,K(n),Ee()}}function Y(e,r,n,o){var l=ke(e);S&&(l[r]=e.getAttribute(r),r==="src"||r==="srcset"||r==="href"&&e.nodeName==="LINK")||l[r]!==(l[r]=n)&&(r==="loading"&&(e[Te]=n),n==null?e.removeAttribute(r):typeof n!="string"&&Me(e).includes(r)?e[r]=n:e.setAttribute(r,n))}function ke(e){return e.__attributes??={[Ce]:e.nodeName.includes("-"),[Ie]:e.namespaceURI===ye}}var B=new Map;function Me(e){var r=e.getAttribute("is")||e.nodeName,n=B.get(r);if(n)return n;B.set(r,n=[]);for(var o,l=e,u=Element.prototype;u!==l;){o=Ae(l);for(var i in o)o[i].set&&n.push(i);l=Se(l)}return n}const W="/api";async function p(e,r){const n=await fetch(W+e,{headers:{"Content-Type":"application/json"},...r});if(!n.ok){const o=await n.json().catch(()=>({error:n.statusText}));throw new Error(o.error||n.statusText)}if(n.status!==204)return n.json()}async function De(){return p("/feeds")}async function Fe(e){return p(`/feeds/${e}`)}async function $e(e){return p(`/feeds/${e}`,{method:"DELETE"})}async function He(e){return p(`/feeds/${e}/refresh`,{method:"POST"})}async function Pe(e){return p(`/channels/${e}`)}async function Je(e,r){return p(`/feeds/${e}/channels`,{method:"POST",body:JSON.stringify({url:r})})}async function Ue(e){return p(`/channels/${e}`,{method:"DELETE"})}async function Ve(e,r){return p(`/channels/${e}/move`,{method:"POST",body:JSON.stringify({feedId:r})})}async function qe(e){return p(`/channels/${e}/refresh`,{method:"POST"})}async function ze(e=100){return p(`/videos/recent?limit=${e}`)}async function Ye(e=100){return p(`/videos/history?limit=${e}`)}async function Be(e){return p(`/videos/${e}/info`)}async function Ge(e,r,n){return p(`/videos/${e}/progress`,{method:"POST",body:JSON.stringify({progress:r,duration:n})})}async function Xe(e){return p("/import/url",{method:"POST",body:JSON.stringify({url:e})})}async function Ke(e){const r=new FormData;r.append("file",e);const n=await fetch(W+"/import/file",{method:"POST",body:r});if(!n.ok){const o=await n.json().catch(()=>({error:n.statusText}));throw new Error(o.error||n.statusText)}return n.json()}async function Qe(){return p("/packs")}export{ze as a,Pe as b,qe as c,Fe as d,Le as e,He as f,De as g,$e as h,xe as i,Ue as j,Ye as k,Qe as l,Xe as m,Ke as n,Be as o,Je as p,Ve as q,Re as r,Y as s,Ge as u};
